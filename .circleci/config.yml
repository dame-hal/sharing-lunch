version: 2
jobs:
  build:
    docker: # Dockerイメージの指定
      - image: damehal/devenv-vuecli

    working_directory: sharing-lunch # カレントディレクトリの指定

    steps:
      - checkout
      - run:
        name: Notification to Slack "Build Started"
        command: |
          PAYLOAD=`cat << EOS
          {
            "channel": "#alert-circleci",
            "text": "Build Started",
          }
          EOS
          `
          curl -X POST --data-urlencode "payload=$PAYLOAD" $SLACK_WEBHOOK_URL

      - run:
          name: Test echo
          command: echo 'hello CircleCI'

      # Download and cache dependencies
#      - restore_cache:
#          keys:
#          - v1-dependencies-{{ checksum "package.json" }}
#          # fallback to using the latest cache if no exact match is found
#          - v1-dependencies-
#
#      - run: yarn install
#
#      - save_cache:
#          paths:
#            - node_modules
#          key: v1-dependencies-{{ checksum "package.json" }}
#
#      # run tests!
#      - run: yarn test
